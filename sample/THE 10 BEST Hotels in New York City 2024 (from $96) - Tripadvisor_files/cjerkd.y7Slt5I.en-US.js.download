(this.$WP=this.$WP||[]).push(["cjerkd",(e,i)=>{var r,a,n,o,s,d,t,l,c,m,u,g,p,h,b,f,_,v,S,T,G,I,M,z,C,w,y,k,H,O,N,j,W,x,D,P,R,q,A,B,$,L,E,F,K,U={iconWrapper:"rjSeK d q",iconWrapperSmall:"ADmrQ d q",iconWrapperMedium:"jOFMI d q _T",connectImg:"VNkBD",connectImgSmall:"uUSkJ",connectImgMedium:"jaoBo _T",icon:"nIvCR d Cj",iconSmall:"gqKUw d Cj",iconMedium:"yNpzT d _T Cj"},Z=["id-ID","ja-JP","zh-TW","th-TH"],J=e=>{var i=H(),n=Z.includes(i),[o]=w(e);return r(W,{variant:"secondary",size:e.size,onClick:e.onClick,fullWidth:!0,...o,children:[a(k,{id:"memx_mw_gating_cta",messages:"Continue with:"})," ",r("div",{className:N({[U.iconWrapperSmall]:"small"===e.fontSize},{[U.iconWrapperMedium]:"medium"===e.fontSize},{[U.iconWrapper]:"large"===e.fontSize}),children:[a(C,{src:e.allBlack?"/img2/google/GoogleG/black.svg":"/img2/google/GoogleG/1color@3x.png",className:N({[U.connectImgSmall]:"small"===e.fontSize},{[U.connectImgMedium]:"medium"===e.fontSize},{[U.connectImg]:"large"===e.fontSize})}),n&&a(C,{src:"/img2/line/line_color_20.png",className:N({[U.connectImgSmall]:"small"===e.fontSize},{[U.connectImgMedium]:"medium"===e.fontSize},{[U.connectImg]:"large"===e.fontSize})}),a("div",{className:N({[U.iconSmall]:"small"===e.fontSize},{[U.iconMedium]:"medium"===e.fontSize},{[U.icon]:"large"===e.fontSize}),children:a(j,{})})]})]})},V=(e,i,r,a)=>{var n=encodeURIComponent(e),o=encodeURIComponent(e),s=void 0===a?"":`&c=${a}`;return`https://tripadvisor.onelink.me/dIWJ?af_dp=${n}&af_web_dp=${o}&af_sub1=${i}&af_sub2=true&af_sub3=${r}&pid=website${s}`},Q=e=>{var i=D(),{onClick:o,mcid:s}=e,d=x(),t=P(),{path:l}=p(),[c]=w(e),m=n(()=>{i({module:"app_download",action:"app_download_click",context:d}),o&&o(d)},[o,i,d]),u=A(`https://${t}${l}`,s,d,"GatingExperiment");return r(W,{variant:"secondary",size:"large",fullWidth:!0,onClick:m,href:u,...c,children:[a(k,{id:"open_in_the_app",messages:"Open in the app"})," "]})},X={logoset:"w _Z"},Y=e=>{var i,{theme:r}=e;switch(r){case"green":i="/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg";break;case"cream":i="/img2/brand_refresh/Tripadvisor_logoset_solid_cream.svg"}return a(C,{className:X.logoset,src:i,alt:""})},ee=({headline:e,subheadline:i,...n})=>r("div",{className:y(n),children:[a("div",{className:"sHvwv _T d",children:a($,{theme:"green"})}),a(z,{variant:"expressive-display-02",marginTop:"spacing-04",children:e}),a(z,{variant:"body-01",marginTop:"spacing-02",children:i})]}),ei=({onShow:e,onContinueWith:i,onOpenInApp:n,mcid:o})=>{var{localize:s}=O(),d=I(e);return a(R,{children:r("div",{ref:d,children:[a(L,{headline:s.string("Sign in or open in our app","hard_gate_hybrid_header"),subheadline:s.string("Read traveler reviews, plus save and compare your favorite picks.","hard_gate_subheader")}),a(q,{size:"large",onClick:i,fontSize:"medium",marginTop:"spacing-04"}),a(B,{mcid:o,onClick:n,marginTop:"spacing-03"})]})})},er=()=>{},ea=({onShow:e,onDismiss:i,onAutoCancelled:n,onSuccessfulLogin:l,onGeneralSkipDismiss:c,onNotVisible:u,onOneTapHidden:h})=>{var{page:b}=p(),f=g(),{localize:_}=O(),v=I(e),[S,T]=o(null),[G,z]=o(!1),C=en(S),w=s(null);return d(()=>G?(clearTimeout(w.current),()=>{}):(w.current=setTimeout(()=>{!C&&u&&(S?u("hidden"):u("not_mounted"))},3e3),()=>{clearTimeout(w.current)}),[u,S,C,G]),d(()=>{C&&!G?z(!0):!C&&G&&h&&h()},[C,G,z,h]),r(M,{children:[a(t,{children:a(F,{onDismiss:()=>{i&&i(),m(f)},triggerNext:er,onAutoCancelled:n||er,enhancedGoogleOneTapGate:!0,servletName:b,suppressContextualMessage:!0,onSuccessfulLogin:l,onGeneralSkipDismiss:c,onIFrameShown:T})}),a("div",{ref:v,children:a(L,{headline:_.string("Sign in to unlock your free membership","hard_gate_onetap_header"),subheadline:_.string("Read traveler reviews, plus save and compare your favorite picks.","hard_gate_subheader")})})]})},en=e=>{var[i,r]=o(!1);return d(()=>{if(e instanceof HTMLElement){var i=new IntersectionObserver(([e])=>r(e.isIntersecting));return i.observe(e),()=>{i.disconnect()}}return r(!1),()=>{}},[e]),i},eo=({onLogin:e})=>{var{login:i}=c(),s=g(),{page:d}=p(),{geoId:t,locationId:l}=b(),m=f(),{impressionKey:M}=_(),z=v(),C=S(),w=T(15e3,"MembershipHardGateBounce15s"),y=T(3e4,"MembershipHardGateBounce30s"),[k,H]=o(!u(s)),[O,N]=o(!1),j=n(()=>{w(),y()},[w,y]),W=I(j),x=n(()=>{i({flowOrigin:"login",pid:40620,flow:"CORE_COMBINED",isFullWidthMobile:!0,forceLogin:!0,closeX:!1,extraQueryParams:{funnelKey:M,page:d,geo_id:t,detail_id:l,is_dated:m}}).then(e=>{e&&z("MembershipHardGateHybrid",{userId:e.userId,newMember:!!e.hasCreatedMember,source:G(e.loginProvider)},"SuccessLogin",e.userId||void 0)}).finally(e)},[i,e,M,d,t,l,m,z]);return a("div",{ref:W,className:"MmTOI D t _U s l Za f Pk PY Px PK Gg",children:r("div",{className:"KjOWP _Z w f",children:[a("div",{className:"Mbtbi f",children:O&&k&&a(h,{onClick:()=>H(!1)})}),a("div",{className:"ZgpFj f _Z",children:k?a(K,{onShow:()=>{z("MembershipHardGateGOT")},onDismiss:()=>{C("MembershipHardGateGOT","Close"),H(!1)},onAutoCancelled:()=>{C("MembershipHardGateGOT","Close","other"),H(!1)},onSuccessfulLogin:(i,r)=>{z("MembershipHardGateGOT",{userId:r,newMember:i,source:"google"},"SuccessLogin",r),e&&e()},onGeneralSkipDismiss:(e,i)=>{z("MembershipHardGateGOT",{googleOneTapActionType:e,googleOneTapReason:i},"Error")},onNotVisible:e=>{z("MembershipHardGateGOT",{googleOneTapActionType:"not_visible",googleOneTapReason:e},"Error"),H(!1)},onOneTapHidden:()=>{N(!0)}}):a(E,{onShow:()=>{z("MembershipHardGateHybrid")},onContinueWith:()=>{C("MembershipHardGateHybrid","CTA","click","continueWith"),x()},onOpenInApp:e=>{C("MembershipHardGateHybrid","CTA","click","openInTheApp",{downloadId:e})},mcid:65389})})]})})};return[()=>{J.defaultProps={size:"large",fontSize:"large",lightBorder:!1},q=J,A=V,B=Q,$=Y,L=ee,E=ei,F=l(()=>i("j3bsmh")),K=ea,e("default",eo)},[e=>(r=e.jsxs,a=e.jsx),e=>(n=e.useCallback,o=e.useState,s=e.useRef,d=e.useEffect,t=e.Suspense,l=e.lazy),e=>c=e.default,e=>(m=e.setRegDialogDismissed,u=e.shouldSuppressRegistrationDialog),e=>g=e.useSessionId,e=>p=e.useRoute,e=>h=e.CloseButton,e=>(b=e.useRouteIds,f=e.useIsDated,_=e.useHardGateContext,v=e.useHardGateImpression,S=e.useHardGateInteraction,T=e.useBounceTracking,G=e.sourceFromLoginProvider),e=>I=e.useOnVisible,e=>M=e.ErrorBoundary,e=>z=e.default,e=>C=e.CdnImage,e=>(w=e.getMarginProps,y=e.margin),e=>(k=e.default,H=e.useLocale,O=e.useLocalize),e=>N=e.default,e=>j=e.default,e=>W=e.default,e=>x=e.uuid,e=>D=e.useGARecorder,e=>P=e.useDomainName,e=>R=e.AutoFocus]]},["21h32l","o4yt4q","rdycz1","cyrz7y","al4vil","fgwvq1","uzmmz7","igyuz7","3btuy0","83pm0d","essqvy","s6q22n","gw8uw6","7thqz4","fkji80","gjtatx","jppfwt","eww825","32pwc7","qlcuu5","2r4qug"]]);
